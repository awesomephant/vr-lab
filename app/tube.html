<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Tube</title>
    <script src="https://rawgit.com/aframevr/aframe/e7f78bd/dist/aframe-master.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.8.1/dist/aframe-extras.min.js"></script>
    <script src="./js/link-component.js"></script>
    <script src="./js/tube/gamestate.js"></script>
</head>

<body>
    <a-scene>
        <a-assets>
            <a-asset-item id="tube-train" src="models/tube/tube-train.obj"></a-asset-item>
            <a-asset-item id="tube-seats" src="models/tube/tube-seats.obj"></a-asset-item>
            <a-asset-item id="tube-poles" src="models/tube/tube-poles.obj"></a-asset-item>
            <a-asset-item id="tube-polemergers" src="models/tube/tube-pole-mergers.obj"></a-asset-item>
            <a-asset-item id="tube-lights" src="models/tube/tube-lights.obj"></a-asset-item>
            <a-asset-item id="tube-armrests" src="models/tube/tube-armrests.obj"></a-asset-item>
            <a-asset-item id="_camera" src="models/tube/camera.obj"></a-asset-item>
        </a-assets>

        <a-light id='light-sun' light="color: #1F2C82; intensity: 0; type: directional; castShadow:true;shadowMapHeight:512; shadowMapWidth:512"
            rotation='0 -12 8' position="-9 3.157 7.573"></a-light>
        <a-light id='light-ambient' light="color: #fff; intensity: 0; type: ambient;" position="-9 7 3"></a-light>
        <a-entity id='train'>
            <a-light id='outside-light' position='-15 1.4 2.54' light="color: #fff; intensity: 2.3; type: point;distance: 5;decay:1;">
                <a-animation easing='linear' to='15 1.4 2.54' attribute='position' delay='3000'dur='800' fill='forwards' repeat='indefinite'></a-animation>
            </a-light>
            <a-light position='-6.909 2.671 -0.502' light="color: #fff; intensity: .3; type: point;distance: 4.5;decay:0.620;intensity:.500;"></a-light>
            <a-light position='.26 2.671 -0.502' light="color: #fff; intensity: .3; type: point;distance: 4.5;decay:0.620;intensity:.500;"></a-light>
            <a-light position='6.82 2.671 -0.502' light="color: #fff; intensity: .3; type: point;distance: 4.5;decay:0.620;intensity:.500;"></a-light>
            <a-entity id='train-walls' material='roughness: 1' obj-model="obj: #tube-train" scale='1 1 1' position='0 0 0' rotation='0 0 0' shadow="cast: true"></a-entity>
            <a-entity id='train-seats' material='' obj-model="obj: #tube-seats" scale='1 1 1' position='0 0 0' rotation='0 0 0'
                shadow="cast: true"></a-entity>
            <a-entity id='train-poles' material='' obj-model="obj: #tube-poles" scale='1 1 1' position='0 0 0' rotation='0 0 0'
                shadow="cast: true"></a-entity>
            <a-entity id='train-polemergers' material='color: white' obj-model="obj: #tube-polemergers" scale='1 1 1' position='0 0 0' rotation='0 0 0' shadow="cast: true"></a-entity>
            <a-entity id='train-lights' material='shader: flat; color: white' position='0 -0.022 0' obj-model="obj: #tube-lights" scale='1 1 1' position='0 0 0' rotation='0 0 0' shadow="cast: true"></a-entity>
            <a-entity id='train-armrests' material='color: #555;' obj-model="obj: #tube-armrests" scale='1 1 1' position='0 0 0' rotation='0 0 0' shadow="cast: true"></a-entity>
            <a-plane position='-9.364 0.783 1.068' rotation='0 171.601 0' scale='0.460 .6 1' material='shader: flat; color: white' link='target: hills.html'></a-plane>
        </a-entity>

            <a-camera id='camera' position='-7.637 2.547 -0.559' rotation='-20 -83 0' user-height='0' universal-controls="movementControls: checkpoint" checkpoint-controls="mode: teleport">
                <a-cursor material='color: white'></a-cursor>
            </a-camera>
            <a-entity obj-model='obj: #_camera' scale='.5 .5 .5' id="checkpoint-1" position='-9.786 2.772 -2.347' rotation='180 0 0' checkpoint></a-entity>
            <a-entity obj-model='obj: #_camera' scale='.5 .5 .5' id="checkpoint-2" position='2.8 2 0'rotation='180 0 0' checkpoint></a-entity>
            <a-entity obj-model='obj: #_camera' scale='.5 .5 .5' id="checkpoint-3" position='8.5 2 0'rotation='180 0 0' checkpoint></a-entity>
        <a-sky color="#000"></a-sky>
    </a-scene>
</body>

</html>